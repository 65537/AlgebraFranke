\documentclass[a4paper,parskip=full,numbers=enddot]{scrreprt}
\usepackage[utf8]{inputenc}

\usepackage{../header}
\usepackage{../frankenumbering}
\usepackage{../shortcuts}


\usepackage{csquotes}
\usepackage[backend=biber,style=numeric,sorting=none]{biblatex}
\addbibresource{../literatur.bib}

% Title Page
\title{Algebraic Geometry I}
\author{Nicholas Schwab \& Ferdinand Wagner}
\date{Wintersemester 2017/18}

\widowpenalty=10000
\clubpenalty=10000

\begin{document}
\pagenumbering{Alph}
\maketitle
\pagenumbering{roman}
 
This text consists of notes on the lecture Algebraic Geometry I taught at the University of Bonn by Professor Jens Franke in the winter term (Wintersemester) 2017/18. 

Please report bugs, typos etc. through the \emph{Issues} feature of github.

\tableofcontents

\chapter*{Introduction}
\addcontentsline{toc}{chapter}{Introduction}
\pagenumbering{arabic}
The lecture will mainly be about the concept of \emph{schemes}. The topics include but are not limited to the category of (pre-)schemes, properties of schemes, morphisms of schemes, sheaves of $\Oo_X$-modules and cohomology of quasi-coherent sheaves.

Professor Franke said the lecture requires a firm knowledge of commutative algebra and affine and projective varieties. If you are not familiar with this terms you may want to think again about visiting this lecture. If you want to brush up your knowledge about these topics the following literature is recommended
\begin{itemize}
 \item Matsumura, H.: Commutative Ring Theory,
 \item Hartshorne, R.: Algebraic Geometry,
 \item Mumford, D.: The Red Book of Varieties and Schemes,
 \item Schwab, N. \& Wagner, F.: \href{https://github.com/Nicholas42/AlgebraFranke/tree/master/AlgebraI}{Algebra I by Jens Franke} \cite{alg1}\footnote{\url{https://github.com/Nicholas42/AlgebraFranke/tree/master/AlgebraI}}.
\end{itemize}
Let it be said that the first three recommendations are from Professor Franke while the last one is from the (not so) humble authors of these notes.

\chapter{Varieties and Schemes}\lbl{ch:varietiesAndSchemes}
\begin{defi}[Sheaf and Presheaf]\lbl{def:preSheaf}
    A \defemph{presheaf $\Ff$ of rings} on a topological space $X$ associates 
    \begin{itemize}
    	\item to any open subset $U\subseteq X$ a ring $\Ff(U)$ called the \emph{ring of sections} of $\Ff$ on $U$
    	\item and to any inclusion of open subsets $V\subseteq U$ a ring homomorphism 
    	\begin{align*}
    	(-)|_V\colon \Ff(U) &\longto \Ff(V)
    	\end{align*}
    	such that $f|_V = f$ for all $f\in\Ff(V)$ and $(f|_V)|_W = f|_W$ for any inclusion $W\subseteq V\subseteq U$ of open subsets.
    \end{itemize}  Note that while this notation (intentionally) reminds of the restriction of functions, behaves similarly and often the restriction is indeed used for this homomorphism, the elements of the rings $\Ff(U)$ are not always functions. 
    
    A so defined presheaf is furthermore a \defemph{sheaf} if additionally, the following condition, called \emph{sheaf axiom}, holds:
    \begin{quote}
     For every open covering $U = \bigcup_{i\in I} U_i$ of an open subset $U\subseteq X$ the map
        \begin{align*}\lbl{eq:sheafAxiom}
			\Ff(U) &\longto \left\{(f_i)_{i\in I}\in \prod_{i\in I} \Ff (U_i)\st f_i|_{U_i\cap U_j} = f_j|_{U_i\cap U_j} \text{ for }i,j\in I\right\}\\
			f &\longmapsto \left(f|_{U_i}\right)_{i\in I}
        \end{align*}
        is bijective.
    \end{quote}
\begin{rem}
    When $U=\emptyset$ one can take $I=\emptyset$ and obtains $\Ff(\emptyset) = \{0\}$.
\end{rem}
\begin{rem}
    Sheaves of groups, sets, etc. are defined in a similar way. A sheaf of rings $\Rr$ on $X$ defines two sheaves of groups on $X$, namely $U\mapsto (\Rr(U), +)$ and $U\mapsto (\Rr(U)^\times, \cdot)$.
\end{rem}
\begin{rem}
    Elements of $\Rr(U)$ are called \emph{sections}, elements of $\Rr(X)$ are called \emph{global sections}.
\end{rem}
\begin{example}
	    Let $R$ be a ring. The sheaf $\Ff_X$ of $R$-valued functions on $X$ associates to any open subset $U\subseteq X$ the ring of $R$-valued functions $f\colon U \to R$ with the inclusion morphism being the restriction of functions to subsets.
\end{example}
\begin{rem*}
	  If $\Gg$ is any (pre)sheaf on $X$ and $U\subseteq X$ an open subset, we get a a sheaf $\Gg|_U$ on $U$ by $\Gg|_U(V) = \Gg(V)$ for the open subsets $V\subseteq U$ equipped with the same restriction morphisms.
\end{rem*}
\begin{defi}[Algebraic Prevarieties] \lbl{def:preVarieties}
	    Let $k$ be an algebraically closed field. An \defemph{algebraic prevariety} over $k$ is a pair $(X,\Oo_X)$, where $X$ is an irreducible Noetherian topological space together with a sheaf $\Oo_X$ of rings on $X$ such that the following property is satisfied.
	    \begin{quote}
	        Any $x\in X$ has an open neighbourhood $U$ such that there is a homeomorphism $U\isomorphism[\phi] V$ where $V\subseteq k^n$ is a Zariski-closed subset such that $\phi$ identifies $\Oo_X|_U$ with the structure sheaf $\Oo_V$ of $V$. That is, if $W \subseteq V$ is open then any $k$-valued function $f\colon W\to k$ is regular (i.e. an element of $\Oo_V(W)$) if and only if 
	        \begin{align*}
	            g\colon \phi^{-1}(W) &\longto k\\
	            x&\longmapsto f(\phi(x))
	        \end{align*}
	        is an element of $\Oo_X(\phi^{-1}(W))$. One denotes $g=\phi^*f$ in this case.
	    \end{quote}
	    A \defemph{morphism of prevarieties} $(X,\Oo_X) \to (Y,\Oo_Y)$ is a continous map $X\morphism[\phi] Y$ such that for all $U\subseteq Y$ and $\lambda \in \Oo_Y(U)$ we have $\phi^\ast \lambda \in \Oo(\phi^{-1}(U))$. As above, $\phi^\ast\lambda$ is defined as $(\phi^\ast\lambda)(x) = \lambda(\phi(x))$. In particular, $\phi^*$ induces a \emph{morphism of sheaves} $\phi^*\colon \Oo_Y\to\Oo_X$.
	\end{defi}
	\begin{rem*}
		\begin{alphanumerate}
			\item In fact, the $V\subseteq k^n$ in the above definition of varieties is even \emph{irreducible}, as $V$ is homeomorphic to an open (and hence irreducible) subset $U$ of the irreducible space $X$. In particular, $V$ is an \emph{affine algebraic variety} (in the sense of \cite[Definition~2.2.1]{alg1}) and one can think of varieties as irreducible spaces which are locally isomorphic to (or glued together from) affine varieties.
			\item The $n$ in the above definition is \emph{not} required to be constant, not even for a single $x\in X$. In fact, this wouldn't be a sensible thing to ask for, as e.g. $k\subseteq k^1$ and $k\times\{0\}\subseteq k^2$ are isomorphic affine varieties. However, the \emph{Krull dimension} $\dim X$ (in the sense of \cite[Definition~2.1.4]{alg1}) is a well-defined thing and one can show that $\dim X=\dim V$ in the above situation (this is a consequence of \cite[Theorem~6]{alg1} and the \emph{locality of codimension}, cf. \cite[Remark~2.1.3]{alg1}).
		\end{alphanumerate}
	\end{rem*}
	\begin{example}
		    Let $V\subseteq k^n$ be Zariski-closed, $W\subseteq V$ open. The ring $\Oo_V(W)$ of \emph{regular functions} on $W$ is the ring of functions $\lambda\colon W\to k$ such that for any $x\in W$ there is an open neighbourhood $\Omega$ of $x$ and polynomials $p,q\in R= k[X_1,\ldots,X_n]$ such that $q$ does not vanish on $\Omega\cap W$ and such that we have $\lambda(y) = \frac{p(y)}{q(y)}$ for every $y\in \Omega\cap W$. (cf. \cite[Definition 2.2.2]{alg1}).
		     
		     The sheaf $\Oo_V$ defined by $W\mapsto \Oo_V(W)$ is called the \emph{structure sheaf} on $V$. If $W=V$ it can be shown that any $f\in \Oo_V(V)$ can be written as $f=p|_V$ where $p\in R$ (cf. \cite[Proposition 2.2.2]{alg1}).
	\end{example}
	    
	\begin{example}
	    The \emph{projective space} $\IP(V)$, where $V$ is a $k$-vector space, is the set of one-dimensional subspaces of $V$. Let $\IP^n(k) = \IP(k^{n+1})$. If $(x_0,\ldots,x_n)\in k^{n+1}\setminus\{0\}$, let $[x_0,\ldots,x_n]$ denote the subspace generated by $(x_1,\ldots, x_n)$.
	     
	     Recall that an ideal $I\subseteq R=k[X_0,\ldots,X_n]$ is called \emph{homogenous} if it is generated by homogenous elements (i.e. polynomials in which every monomial has the same total degree). Let $I$ be homogenous, let $V(I)\subseteq \IP^n(k)$ be the set of all $[x_0, \ldots, x_n]\in\IP^n(k)$ such that $f(x_0,\ldots, x_n)$ vanishes for all $f\in I$. Call a subset $A\subseteq\IP^n(k)$ \emph{Zariski-closed} if there is a homogenous ideal $I$ such that $A= V(I)$. This turns $\IP^n(k)$ into an irreducible, $n$-dimensional, Noetherian topological space.
	     
	     Let $V\subset \IP^n(k)$ be closed, $W\subseteq V$ open and $\lambda\colon W\to k$ any function. We call $\lambda$ \emph{regular} on $W$, or $\lambda \in \Oo_V(W)$, if any $x\in W$ has an open neighbourhood $\Omega$ such that there are two polynomials $p,q\in k[X_0,\ldots,X_n]$ homogenous of the same degree such that $q(y_0,\ldots,y_n) \neq 0$ and 
	     \begin{align*}
	     	\lambda([y_0,\ldots,y_n]) = \frac{p(y_0,\ldots,y_n)}{q(y_0,\ldots,y_n)}
	     \end{align*}
	     for all $[y_0,\ldots,y_n]\in W\cap \Omega$.
	     
	     The \emph{affine space} $\IA^n(k)$ is just good old $k^n$ equipped with its Zariski topology. Consider the map
	     \begin{align*}
	        \IP^n(k)\setminus V(X_i) &\isomorphism \IA^n(k)\\
	        [x_0,\ldots, x_n]&\longmapsto \left(\frac{x_0}{x_i}, \ldots, 
	        \frac{x_{i-1}}{x_i},\frac{x_{i+1}}{x_i},\ldots,\frac{x_n}{x_i}\right)\;.
	    \end{align*}
	    This is a homeomorphism and identifies the structure sheaves with each other. Hence, for any irreducible closed subset $A\subseteq \IP^n(k)$ such that $Y\coloneqq A\cap(\IP^n(k)\setminus V(X_i)) \neq \emptyset$, $(Y, \Oo_A|_Y) $ is isomorphic to an affine algebraic variety. Thus, quasi-projective algebraic varieties (i.e. $(U,\Oo_U)$ where $U\subseteq \IP^n(k)$ is a non-empty open subset of an irreducible closed subset) are algebraic prevarieties in the sense of Definition~\reff{def:preVarieties}.
\end{example}
\begin{varthm}{example}\lbl{ex:openSubsetsArePrevarieties}
 When $X$ is prevariety in the sense of Definition~\reff{def:preVarieties} and $U\subseteq X$ is open and $U\neq \emptyset$, then $(U,\Oo_X|_U)$ is a prevariety. Note that any non-empty open subset of an irreducible set is necessarily irreducible as well, so irreducibility of $U$ is not required as an extra condition.
\end{varthm}
\begin{varthm}[b]{example}\lbl{ex:irreducibleSubsetsArePrevarieties}
 Let $X$ be a prevariety, $A\subseteq X$ irreducible and closed. Then $(A,\Oo_A)$ is a prevariety, wherein the structure sheaf $\Oo_A$ is defined as follows: If $W\subseteq A$ is open, let
 \begin{align*}
    \Oo_A(W) = \left\{ f\colon W\to k \st 
    \begin{array}{c}
	    \text{every } x\in W\text{ has an open neighbourhood } x\in U\subseteq X  \\
	    \text{and } \phi\in \Oo_X(U)\text{ such that } f(y) = \phi(y)\ \forall y\in U\cap W
    \end{array}\right\}\;.
 \end{align*}
 Then one may check that $(A,\Oo_A)$ is a prevariety. Note that $\Oo_A$ is \emph{not} given by the restriction $\Oo_X|_A$ (which is only defined for open subsets $U\subseteq X$ anyway). If one prefers a more functorial definition of $\Oo_A$, the following will do: For each open subset $U\subseteq X$, let 
 \begin{align*}
 	I(U)=\left\{\phi\in\Oo_X(U)\st \phi\text{ lies in the maximal ideal of }\Oo_{A,a}\ \forall a\in U\cap A\right\}
 \end{align*}
 (the \emph{stalk} $\Oo_{A,a}$ is defined in \cite[Definition 2.2.5]{alg1}). Then
 \begin{align*}
 	\Oo_A(W)=\colimit[U] \Oo_X(U)/I(U)\;,
 \end{align*}
	where the colimit is taken over all open subsets $U\subseteq X$ such that $U\cap A=W$.
\end{varthm}

\begin{rem*}
 The following conditions on a topological space $X$ are equivalent:
 \begin{alphanumerate}
  \item
    If $x\neq y$ are points of $X$, there are open neighbourhoods $V,W\subseteq X$ seperating them, i.e. $x\in V$, $y\in W$ and $V\cap W= \emptyset$. This is the usual definition for $X$ being \emph{Hausdorff}.
  \item
    The diagonal $\Delta = \left\{(x,x)\st x\in X\right\}\subseteq X\times X$ is a closed subset.
  \item 
    If $a$ and $b$ are continous maps $T\to X$, then their \emph{equalizer} $K = \left\{t\in T\st a(t) = b(t)\right\}$ is closed in $T$.
 \end{alphanumerate}

\end{rem*}


\begin{defi}[Variety]\lbl{def:variety}
    Let $X$ be a prevariety over $k$ in the sense of Definitions \reff{def:preVarieties}. We call $X$ \defemph{separated} or a \defemph{variety} over $k$ if and only if $\left\{t\in T\st a(t)=b(t)\right\}$ is closed in $T$ whenever $a$ and $b$ are a pair of \emph{morphisms of prevarieties} $T\doublemorphism[a][b] X$. 
\end{defi}

\begin{example}[Line with two origins]
    Let $n>0$ and $X = \left( \IA^n(k) \setminus\{0\}\right) \cup \{0_+\} \cup \{0_-\}$. Consider two morphisms $\iota_+,\iota_-\colon \IA^n(k) \to X$ defined by
    \begin{align*}
	\iota_\pm(x) = \begin{cases} x &\text{if }x\neq 0\\
			0_\pm &\text{if } x = 0
		    \end{cases}
    \end{align*}
    Let $U\subseteq X$ be open iff both $\iota_+^{-1} (U)$ and $\iota_-^{-1}(U)$ are both open in $\IA^n(k)$, and let 
    \begin{align*}
        \Oo_X(U) = \left\{f\colon U\to k\st \iota_\pm^* f = f \iota_\pm \in \Oo_{\IA^n(k)} \left(\iota_\pm^{-1}(U)\right)\right\}.
    \end{align*}
    Then $U_\pm = \iota_\pm^{-1}\big(\IA^n(k)\big)$ are both open and $\IA^n(k)\morphism[\iota_\pm] U_\pm$ is a homeomorphism identifying the respective structure sheaves. Thus, $X$ is a prevariety, but not a variety in the sense of Definition~\reff{def:variety} as we may take $T=\IA^n(k) \morphism[\iota_\pm] X$ in Definition \reff{def:variety} and obtain $K = \left\{x\in \IA^n(k)\st \iota_+(x) = \iota_-(x)\right\} = \IA^n\setminus\{0\}$, which is not closed.
\end{example}
\begin{example}
    \begin{alphanumerate}
    \item
        Any affine algebraic variety is a variety in the sense of Definition \reff{def:variety}.
    \item
        In particular, $\IA^0 = \{0\}$ is a variety, as is any one-point prevariety.
    \item 
        Non-empty open and irreducible closed subsets $Y$ of varieties $X$ are varieties 
    \end{alphanumerate}
\end{example}
\begin{proof}
    \begin{itemize}
	\item[$(c)$] The inclusion $Y\morphism[\iota] X$ (together with $\iota^*\colon \Oo_X\to\Oo_Y$) is a morphism of prevarieties, and for a pair $a,b\colon T\to A$ of morphisms of prevarieties we have $\left\{t\in T\st a(t) = b(t) \right\} = \left\{t \in T\st(\iota a)(t) = (\iota b)(t) \right\}$. The latter is closed in $T$ because $X$ is a variety.
        \item[$(a)$]  Let $X\subseteq k^n$ be closed, irreducible and $a,b\colon T\to X$ morphisms of prevarieties and $K= \left\{t\in T\st a(t) = b(t)\right\}$. To show that $K$ is closed in $T$, it is sufficient to show that any $t\in T$ has a neighbourhood $\Omega$ such that $K\cap \Omega$ is closed in $\Omega$. Choosing $\Omega$ such that it is isomorphic to an affine algebraic variety, which is possible because $T$ is a prevariety, we may assume without loss of generality that $T\subseteq k^n$ is an affine algebraic variety in (i.e.  an irreducible subset of) $k^n$. Let 
        \begin{align*}
	    X_i\colon X&\longrightarrow k\\
	    (x_1,\ldots,x_n)&\longmapsto x_i
	\end{align*}
	denote the projection to the $i\ordinalth$ coordinate. Then $X_i\in\Oo_X(X)$, hence $\alpha_i = a^\ast X_i$ and $\beta_i = b^\ast X_i$ are in $\Oo_T(T)$ and 
	\begin{align}
	    K= \left\{ t\in T\st \alpha_i(t) = \beta_i(t)\ \forall i\right\} = \bigcap_{i=1}^n V(\alpha_i-\beta_i)\;.
	\end{align}
	But we proved in Algebra I that $V(\phi)$ is closed in $T$ whenever $T$ is an affine algebraic variety and $\phi\in  \Oo_T(T)$ (cf. \cite[Proposition 2.2.1]{alg1}).
	\item Trivial from (a).
    \end{itemize}
\end{proof}
\begin{rem*}
    \begin{alphanumerate}
    \item 
        $K\subseteq T$ is closed iff for all $t\in T$ there is an open neighbourhood $\Omega_t$ such that $\Omega_t\cap K$ is closed in $\Omega_t$, since 
        \begin{align*}
            T\setminus K = \bigcup_{t\in T} \big(\Omega_t\setminus (K\cap \Omega_t)\big)
        \end{align*}
        is open as a union of open subsets.
    \item
        It is \emph{not} sufficient to require this just for all $t\in K$.
    \end{alphanumerate}
\end{rem*}
\begin{prop}\lbl{prop:commonNeighbourhoodVariety}
    Let $X$ be any prevariety such that for arbitrary $x,y\in X$ there is a common open neighbourhood $U$ of $x$ and $y$ which is affine (that is, isomorphic as a prevariety to an affine variety in some $k^n$). Then $X$ is a variety.
\end{prop}
\begin{proof}
    Let $a,b\colon T\to X$ as in Definition \reff{def:variety} and $t\in T$ and let $U\subseteq X$ be an affine open subset of $X$ containing both $a(t)$ and $b(t)$. Let $V = a^{-1}(U) \cap b^{-1}(U)\subseteq T$. This is an open subset of $T$ containing $t$. It is easily seen that $a|_V$ and $b|_V$ are morphisms $V\to U$. By the previous example, $K\cap V = \left\{t\in U\st a(t) = b(t)\right\}$ is closed in $V$. Because such a neighbourhood can be found for any $t\in T$, $K$ is closed in $T$ by the previous remark.
\end{proof}











    

\end{defi}

\printbibliography

\end{document}          
